{"ast":null,"code":"var _jsxFileName = \"/Users/siddharthan/Desktop/GetMax/PDF-OCR/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport OCRUpload from \"./components/OCRUpload\";\nimport AdminDashboard from \"./components/admin/AdminDashboard\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [auth, setAuth] = useState(null);\n  useEffect(() => {\n    const stored = JSON.parse(localStorage.getItem(\"auth\"));\n    if (stored !== null && stored !== void 0 && stored.token) setAuth(stored);\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem(\"auth\");\n    setAuth(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [auth && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      style: {\n        position: \"absolute\",\n        top: 10,\n        right: 10,\n        padding: \"8px 12px\"\n      },\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: auth ? /*#__PURE__*/_jsxDEV(OCRUpload, {\n          auth: auth,\n          setAuth: setAuth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 73\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin/*\",\n        element: (auth === null || auth === void 0 ? void 0 : auth.role) === \"admin\" ? /*#__PURE__*/_jsxDEV(AdminDashboard, {\n          auth: auth,\n          setAuth: setAuth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"rvIDANynb054X/J0MJbkV+yIK+M=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Navigate","OCRUpload","AdminDashboard","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","auth","setAuth","stored","JSON","parse","localStorage","getItem","token","handleLogout","removeItem","children","onClick","style","position","top","right","padding","fileName","_jsxFileName","lineNumber","columnNumber","path","element","to","role","_c","$RefreshReg$"],"sources":["/Users/siddharthan/Desktop/GetMax/PDF-OCR/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport OCRUpload from \"./components/OCRUpload\";\nimport AdminDashboard from \"./components/admin/AdminDashboard\";\n\nfunction App() {\n  const [auth, setAuth] = useState(null);\n\n  useEffect(() => {\n    const stored = JSON.parse(localStorage.getItem(\"auth\"));\n    if (stored?.token) setAuth(stored);\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"auth\");\n    setAuth(null);\n  };\n\n  return (\n    <>\n      {auth && (\n        <button\n          onClick={handleLogout}\n          style={{ position: \"absolute\", top: 10, right: 10, padding: \"8px 12px\" }}\n        >\n          Logout\n        </button>\n      )}\n\n      <Routes>\n        {/* Default homepage: OCRUpload for everyone */}\n        <Route\n          path=\"/\"\n          element={auth ? <OCRUpload auth={auth} setAuth={setAuth} /> : <Navigate to=\"/login\" />}\n        />\n\n        {/* Admin dashboard */}\n        <Route\n          path=\"/admin/*\"\n          element={auth?.role === \"admin\" ? (\n            <AdminDashboard auth={auth} setAuth={setAuth} />\n          ) : (\n            <Navigate to=\"/\" />\n          )}\n        />\n\n        {/* Optional: redirect unknown routes */}\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
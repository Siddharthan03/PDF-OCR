{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Routes,Route,Navigate}from\"react-router-dom\";import OCRUpload from\"./components/OCRUpload\";import Login from\"./components/Login\";import Signup from\"./components/Signup\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[auth,setAuth]=useState(null);useEffect(()=>{const token=localStorage.getItem(\"token\");const username=localStorage.getItem(\"username\");const role=localStorage.getItem(\"role\");if(token&&username&&role){setAuth({token,username,role});}},[]);const handleLoginSuccess=data=>{localStorage.setItem(\"token\",data.token);localStorage.setItem(\"username\",data.username);localStorage.setItem(\"role\",data.role);setAuth(data);};const handleLogout=()=>{localStorage.clear();setAuth(null);};return/*#__PURE__*/_jsxs(_Fragment,{children:[auth&&/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{position:\"absolute\",top:10,right:10,padding:\"8px 12px\"},children:\"Logout\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:auth?/*#__PURE__*/_jsx(OCRUpload,{auth:auth,setAuth:setAuth}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLoginSuccess:handleLoginSuccess})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Navigate","OCRUpload","Login","Signup","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","auth","setAuth","token","localStorage","getItem","username","role","handleLoginSuccess","data","setItem","handleLogout","clear","children","onClick","style","position","top","right","padding","path","element","to","onLoginSuccess"],"sources":["/Users/siddharthan/Desktop/GetMax/PDF-OCR/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport OCRUpload from \"./components/OCRUpload\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\n\nfunction App() {\n  const [auth, setAuth] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const username = localStorage.getItem(\"username\");\n    const role = localStorage.getItem(\"role\");\n    if (token && username && role) {\n      setAuth({ token, username, role });\n    }\n  }, []);\n\n  const handleLoginSuccess = (data) => {\n    localStorage.setItem(\"token\", data.token);\n    localStorage.setItem(\"username\", data.username);\n    localStorage.setItem(\"role\", data.role);\n    setAuth(data);\n  };\n\n  const handleLogout = () => {\n    localStorage.clear();\n    setAuth(null);\n  };\n\n  return (\n    <>\n      {auth && (\n        <button\n          onClick={handleLogout}\n          style={{\n            position: \"absolute\",\n            top: 10,\n            right: 10,\n            padding: \"8px 12px\",\n          }}\n        >\n          Logout\n        </button>\n      )}\n\n      <Routes>\n        <Route\n          path=\"/\"\n          element={auth ? <OCRUpload auth={auth} setAuth={setAuth} /> : <Navigate to=\"/login\" />}\n        />\n        <Route path=\"/login\" element={<Login onLoginSuccess={handleLoginSuccess} />} />\n        <Route path=\"/signup\" element={<Signup />} />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAC1D,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACjD,KAAM,CAAAE,IAAI,CAAGH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACzC,GAAIF,KAAK,EAAIG,QAAQ,EAAIC,IAAI,CAAE,CAC7BL,OAAO,CAAC,CAAEC,KAAK,CAAEG,QAAQ,CAAEC,IAAK,CAAC,CAAC,CACpC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,kBAAkB,CAAIC,IAAI,EAAK,CACnCL,YAAY,CAACM,OAAO,CAAC,OAAO,CAAED,IAAI,CAACN,KAAK,CAAC,CACzCC,YAAY,CAACM,OAAO,CAAC,UAAU,CAAED,IAAI,CAACH,QAAQ,CAAC,CAC/CF,YAAY,CAACM,OAAO,CAAC,MAAM,CAAED,IAAI,CAACF,IAAI,CAAC,CACvCL,OAAO,CAACO,IAAI,CAAC,CACf,CAAC,CAED,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzBP,YAAY,CAACQ,KAAK,CAAC,CAAC,CACpBV,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,mBACEL,KAAA,CAAAE,SAAA,EAAAc,QAAA,EACGZ,IAAI,eACHN,IAAA,WACEmB,OAAO,CAAEH,YAAa,CACtBI,KAAK,CAAE,CACLC,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,EAAE,CACPC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,UACX,CAAE,CAAAN,QAAA,CACH,QAED,CAAQ,CACT,cAEDhB,KAAA,CAACT,MAAM,EAAAyB,QAAA,eACLlB,IAAA,CAACN,KAAK,EACJ+B,IAAI,CAAC,GAAG,CACRC,OAAO,CAAEpB,IAAI,cAAGN,IAAA,CAACJ,SAAS,EAACU,IAAI,CAAEA,IAAK,CAACC,OAAO,CAAEA,OAAQ,CAAE,CAAC,cAAGP,IAAA,CAACL,QAAQ,EAACgC,EAAE,CAAC,QAAQ,CAAE,CAAE,CACxF,CAAC,cACF3B,IAAA,CAACN,KAAK,EAAC+B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAE1B,IAAA,CAACH,KAAK,EAAC+B,cAAc,CAAEf,kBAAmB,CAAE,CAAE,CAAE,CAAC,cAC/Eb,IAAA,CAACN,KAAK,EAAC+B,IAAI,CAAC,SAAS,CAACC,OAAO,cAAE1B,IAAA,CAACF,MAAM,GAAE,CAAE,CAAE,CAAC,EACvC,CAAC,EACT,CAAC,CAEP,CAEA,cAAe,CAAAO,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}